<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dapp</title>
</head>
<body>
  <script>
    try {
      window.addEventListener('load', async () => {
        // Modern dapp browsers...
        if (window.ethereum) {
          window.web3 = new Web3(ethereum);
          try {
            // Request account access if needed
            await ethereum.enable();
            // Acccounts now exposed
            // web3.eth.sendTransaction({/* ... */});
          } catch (error) {
            // User denied account access...
          }
        } else if (window.web3) { 
        // Legacy dapp browsers...
          window.web3 = new Web3(web3.currentProvider);
          // Acccounts always exposed
        } else {
          // Non-dapp browsers...
          alert('Non-Ethereum browser detected. You should consider trying MetaMask!');
        }
        if(window.ethereum.isImToken) {
          alert('isImToken')
          imToken.callAPI('native.alert', 'winner winner, chicken dinnerÔºÅ')
        }
      });
    } catch (error) {
      alert('error: ', error)
    }
  </script>
</body>
</html>